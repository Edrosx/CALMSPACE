function publicarMensaje() {
    var mensaje = document.getElementById("mensaje").value.trim();
    if (mensaje === "") return;

    // Lista de palabras o frases sensibles a bloquear
    const palabrasProhibidas = [
        "suicidio", "me quiero morir", "no quiero vivir", "matarme",
        "quitarme la vida", "matate", "suicidar", "suiciidate",
        "morir", "muerte"
    ];

    // Comprobación con expresiones regulares para mayor precisión
    const contieneProhibidas = palabrasProhibidas.some(palabra => {
        const regex = new RegExp(`\\b${palabra}\\b`, 'i');
        return regex.test(mensaje);
    });

    if (contieneProhibidas) {
        alert("Notamos que tu mensaje contiene palabras sensibles. Por favor, recuerda que este espacio es para apoyo positivo. Si estás pasando por un momento difícil, no estás solo: busca ayuda profesional o contáctanos.");
        return;
    }

    var lista = document.getElementById("lista-mensajes");
    var nuevoMensaje = document.createElement("li");
    nuevoMensaje.textContent = mensaje;
    lista.appendChild(nuevoMensaje);
    guardarMensaje(mensaje);
    document.getElementById("mensaje").value = "";
}

